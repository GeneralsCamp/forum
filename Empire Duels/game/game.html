<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Empire Duels – Game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="images/favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/utilities.css">
</head>

<body>

    <div class="mobile-block" id="mobileBlock">
        <div class="mobile-block__card">
        <div class="mobile-block__title">Not available at this screen size</div>
        <div class="mobile-block__sub">A display width of at least 1500px is required.</div>
        </div>
    </div>

    <audio id="bgm" src="../music.mp3" loop></audio>

    <div id="app">

        <!-- TOP BAR -->
        <header class="topbar d-flex align-items-center justify-content-between">
            <div class="text-center flex-grow-1">
                <div class="game-title">EMPIRE DUELS</div>
                <div class="game-subtitle" id="topStatus"></div>
                <div class="game-subtitle small" id="scoreStatus"></div>
            </div>
            <button id="passBtn" class="pass-btn ms-3">PASS</button>
        </header>

        <!-- BOARD -->
        <main class="container-fluid p-3">
            <div class="board-wrap">
                <div class="board-area">
                    <div class="row-grid">

                        <!-- PLAYER -->
                        <section class="side" id="playerSide">
                            <div class="lane-title">Player Lanes</div>

                            <div class="lane" data-owner="player" data-lane="ranged_1">
                                <div class="lane-score" id="score_player_ranged_1">0</div>
                                <div class="slots" id="slots_player_ranged_1"></div>
                            </div>

                            <div class="lane" data-owner="player" data-lane="melee_1">
                                <div class="lane-score" id="score_player_melee_1">0</div>
                                <div class="slots" id="slots_player_melee_1"></div>
                            </div>

                            <div class="lane" data-owner="player" data-lane="ranged_2">
                                <div class="lane-score" id="score_player_ranged_2">0</div>
                                <div class="slots" id="slots_player_ranged_2"></div>
                            </div>

                            <div class="lane" data-owner="player" data-lane="melee_2">
                                <div class="lane-score" id="score_player_melee_2">0</div>
                                <div class="slots" id="slots_player_melee_2"></div>
                            </div>
                        </section>

                        <!-- AI -->
                        <section class="side" id="aiSide">
                            <div class="lane-title text-end">Enemy Lanes</div>

                            <div class="lane" data-owner="ai" data-lane="ranged_1">
                                <div class="lane-score" id="score_ai_ranged_1">0</div>
                                <div class="slots" id="slots_ai_ranged_1"></div>
                            </div>

                            <div class="lane" data-owner="ai" data-lane="melee_1">
                                <div class="lane-score" id="score_ai_melee_1">0</div>
                                <div class="slots" id="slots_ai_melee_1"></div>
                            </div>

                            <div class="lane" data-owner="ai" data-lane="ranged_2">
                                <div class="lane-score" id="score_ai_ranged_2">0</div>
                                <div class="slots" id="slots_ai_ranged_2"></div>
                            </div>

                            <div class="lane" data-owner="ai" data-lane="melee_2">
                                <div class="lane-score" id="score_ai_melee_2">0</div>
                                <div class="slots" id="slots_ai_melee_2"></div>
                            </div>
                        </section>

                    </div>


                </div>
            </div>
        </main>

        <!-- HAND -->
        <footer class="handbar d-flex align-items-center gap-3">

            <div class="general-panel">
                <div class="general-avatar">
                    <img id="playerGeneralImg">
                    <div class="score-bubble" id="playerHP">0</div>
                </div>

            <div class="general-text">
                <div class="general-name" id="playerGeneralName"></div>
                <div class="general-stats">
                    <span>Deck: <strong id="playerDeckCount">0</strong></span>
                    <span>Hand: <strong id="playerHandCount">0</strong></span>
                </div>
                <div class="general-role" id="playerRole">Player</div>
            </div>
        </div>


            <div class="hand" id="hand"></div>

            <div class="general-panel text-end">
            <div class="general-text">
                <div class="general-name" id="aiGeneralName"></div>
                <div class="general-stats">
                    <span>Deck: <strong id="aiDeckCount">0</strong></span>
                    <span>Hand: <strong id="aiHandCount">0</strong></span>
                </div>
                <div class="general-role" id="aiRole">Enemy AI</div>
            </div>

                <div class="general-avatar">
                    <img id="aiGeneralImg">
                    <div class="score-bubble" id="aiHP">0</div>
                </div>
            </div>

        </footer>

    </div>

    <!-- Modals -->
    <div id="toastArea" class="toast-area"></div>

    <div class="card-modal" id="cardModal" hidden>
        <div class="card-modal__backdrop" id="cardModalBackdrop"></div>
        <div class="card-modal__panel" role="dialog" aria-modal="true">
            <button class="card-modal__close" id="cardModalClose" aria-label="Close">×</button>
            <div class="card-modal__content" id="cardModalContent"></div>
        </div>
    </div>

    <div class="round-modal" id="roundModal" hidden>
        <div class="round-modal__backdrop"></div>
        <div class="round-modal__panel" role="dialog" aria-modal="true">
            <div class="round-modal__title" id="roundModalTitle">ROUND 1 RESULT</div>
            <div class="round-modal__sub" id="roundModalSub">NEXT ROUND: 2 • DEFENSE</div>
            <div class="round-modal__result" id="roundModalResult">ROUND START</div>
            <div class="round-modal__bigscore" id="roundModalBigScore">0 - 0</div>
            <div class="round-modal__score" id="roundModalScore">Match: 0 - 0</div>
        </div>
    </div>

    <script type="module" src="js/game.js"></script>
</body>

</html>
